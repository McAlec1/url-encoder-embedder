function createEmbedElement(e,t){const n=document.createElement(t);return n.src=e,n.width="100%",n.height="100%",n}function getElementHtml(e,t){return`<${t} src="${e}" width="100%" height="100%" style="border:none;"><p>Your browser does not support embeds/iframes.</p></${t}>`}function createMinifiedHtml(e,t){return`<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width, initial-scale=1.0"></head><body style="background-color:black;margin:0;">${getElementHtml(e,t)}</body></html>`}function createRegularDataUrl(e,t){return`data:text/html,<head><meta name="viewport" content="width=device-width, initial-scale=1.0"></head><body style="background-color:black;margin:0;">${getElementHtml(e,t)}</body>`}function createEncodedDataUrl(e,t){const n=`<head><meta name="viewport" content="width=device-width, initial-scale=1.0"></head><body style="background-color:black;margin:0;">${getElementHtml(e,t)}</body>`;return`data:text/html,${encodeURIComponent(n)}`}function createBase64DataUrl(e,t){const n=`<head><meta name="viewport" content="width=device-width, initial-scale=1.0"></head><body style="background-color:black;margin:0;">${getElementHtml(e,t)}</body>`;return`data:text/html;base64,${btoa(n)}`}function createAboutBlankMethod(e,t){return{code:`javascript:(function(){\n        var win = window.open('about:blank');\n        var ${t} = win.document.createElement('${t}');\n        ${t}.src = '${e}';\n        ${t}.style.width = '100%';\n        ${t}.style.height = '100%';\n        ${t}.style.border = 'none';\n        win.document.body.style.margin = '0';\n        win.document.body.appendChild(iframe);\n      })()`,href:`javascript:(function(){var win=window.open('about:blank');var ${t}=win.document.createElement('${t}');${t}.src='${e}';${t}.style.width='100%';${t}.style.height='100%';${t}.style.border='none';win.document.body.style.margin='0';win.document.body.appendChild(${t});})()`}}function clearPreviews(){["regularResult","regularCode","minifiedResult","minifiedPreview","dataUrlResult","dataUrlPreview","encodedDataUrlResult","encodedDataUrlPreview","base64Result","base64Preview","blankResult","blankPreview"].forEach((e=>{document.getElementById(e).innerHTML=""}))}function processUrl(e){e=e.trim();try{return new URL(e),e}catch{}return/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$/.test(e)||e.startsWith("www.")?`https://${e}`:!e.includes(".")||e.includes(" ")||e.includes("http")?null:`https://${e}`}function updateQueryString(e){const t=new URL(window.location.href);t.searchParams.set("url",e),window.history.pushState({},"",t)}function generateAll(){const e=processUrl(document.getElementById("urlInput").value),t=document.querySelector('input[name="embedType"]:checked').value;if(!e)return void alert("Please enter a valid URL");updateQueryString(e),clearPreviews();const n=createEmbedElement(e,t);document.getElementById("regularResult").appendChild(n),document.getElementById("regularCode").textContent=getElementHtml(e,t);const a=createMinifiedHtml(e,t);document.getElementById("minifiedResult").textContent=a;const r=createEmbedElement(e,t);document.getElementById("minifiedPreview").appendChild(r);const d=createRegularDataUrl(e,t);document.getElementById("dataUrlResult").textContent=d;const l=createEmbedElement(d,t);document.getElementById("dataUrlPreview").appendChild(l);const o=createEncodedDataUrl(e,t);document.getElementById("encodedDataUrlResult").textContent=o;const i=createEmbedElement(o,t);document.getElementById("encodedDataUrlPreview").appendChild(i);const c=createBase64DataUrl(e,t);document.getElementById("base64Result").textContent=c;const s=createEmbedElement(c,t);document.getElementById("base64Preview").appendChild(s);const m=createAboutBlankMethod(e,t);document.getElementById("blankResult").textContent=m.code,document.getElementById("blankPreview").innerHTML=`\n    <a href="${m.href}" class="about-blank-link">Open in about:blank window</a>\n    <p><small>Note: Some browsers may block pop-ups. Enable pop-ups for this site if needed.</small></p>\n  `}document.getElementById("urlInput").addEventListener("keypress",(function(e){"Enter"===e.key&&generateAll()})),document.getElementById("themeToggle").addEventListener("click",(function(){const e=document.getElementById("themeStylesheet");"/css/dark.css"===e.getAttribute("href")?(e.setAttribute("href","/css/light.css"),this.textContent="Switch to Dark Mode"):(e.setAttribute("href","/css/dark.css"),this.textContent="Switch to Light Mode")})),window.onload=function(){const e=urlParams.get("url");e&&(document.getElementById("urlInput").value=e),generateAll()};